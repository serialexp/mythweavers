# MythWeavers Docker Deployment Configuration
# Copy this file to .env and fill in the values

# =============================================================================
# REQUIRED CONFIGURATION
# =============================================================================

# PostgreSQL database password (required)
POSTGRES_PASSWORD=your-secure-password-here

# Cookie encryption secret for session management (required)
# Generate with: openssl rand -hex 32
COOKIE_SECRET=your-secure-cookie-secret-here

# Cookie domain for sharing session across subdomains (optional)
# Set to root domain with leading dot, e.g., .mythweavers.io
# Leave empty for single-domain setups
COOKIE_DOMAIN=.mythweavers.io

# =============================================================================
# DOMAIN CONFIGURATION
# =============================================================================

# Domains for each service (used by Caddy for HTTPS certificates)
BACKEND_DOMAIN=api.example.com
EDITOR_DOMAIN=editor.example.com
READER_DOMAIN=reader.example.com

# Backend URL that frontends use to connect to the API
# This should be the public URL of your backend
BACKEND_URL=https://api.example.com

# =============================================================================
# OPTIONAL DATABASE CONFIGURATION
# =============================================================================

# PostgreSQL user (default: mythweavers)
# POSTGRES_USER=mythweavers

# PostgreSQL database name (default: mythweavers)
# POSTGRES_DB=mythweavers

# =============================================================================
# OPTIONAL CLOUDFLARE R2 CONFIGURATION
# For file uploads and media storage
# If not configured, files are stored locally in the uploads/ volume
# =============================================================================

# Cloudflare R2 account ID (from your Cloudflare dashboard)
# R2_ACCOUNT_ID=your-account-id

# R2 API credentials (create in Cloudflare dashboard > R2 > Manage R2 API Tokens)
# R2_ACCESS_KEY_ID=your-access-key-id
# R2_SECRET_ACCESS_KEY=your-secret-access-key

# Bucket names (create these in Cloudflare R2)
# R2_PUBLIC_BUCKET=mythweavers-public
# R2_PRIVATE_BUCKET=mythweavers-private

# Public bucket URL (for direct access to public files)
# R2_PUBLIC_BUCKET_URL=https://pub-xxx.r2.dev

# =============================================================================
# OPTIONAL CORS CONFIGURATION
# =============================================================================

# CORS origin for API requests (default: * allows all origins)
# For production, set this to your frontend domains
# CORS_ORIGIN=https://editor.example.com,https://reader.example.com

# =============================================================================
# DOCKER IMAGE CONFIGURATION
# =============================================================================

# Docker registry for images (default: serialexp)
# REGISTRY=serialexp

# Image tag (default: latest)
# TAG=latest
